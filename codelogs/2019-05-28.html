<!DOCTYPE html><html lang="en"><head><link href="https://fonts.googleapis.com/css?family=DM+Sans:400,400i,700&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Space+Mono:400,400i,700&amp;display=swap" rel="stylesheet"/><title>2019-05-28</title><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/0fcb03e38cacf77fc9b1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0fcb03e38cacf77fc9b1.css"/><link rel="preload" href="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/pages/codelogs/%5Bslug%5D.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.e84fa698c7ee940652bd.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.34684228d50c6c140f9e.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-d8f6cc11b1d0cf8a72db.js" as="script"/><link rel="preload" href="/_next/static/chunks/027ef1e68a8faeecdab18641e53b6a91610e6293.0edb937e2e191f7bf5bd.js" as="script"/></head><body><div id="__next"><div><section class="page-wrapper"><section class="sidebar"><nav class="nav"><div class="nav-link "><a>Home</a></div><div class="nav-link "><a>About</a></div><div class="nav-link "><a>Blog</a></div><div class="nav-link "><a>Codelogs</a></div><div class="nav-link "><a>Articles</a></div><div class="nav-link "><a>Projects</a></div><div class="nav-link "><a>TODO</a></div></nav><footer class="footer"><p>Powered by <a href="https://nextjs.org/">next.js</a> and <a href="https://pages.github.com/">Github Pages</a></p></footer></section><main class="page-section"><h1 class="page-header">2019-05-28</h1><p>Tags: javascript,coercion,destructuring,es6,functional programming</p><section><h2>Plan for the day</h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked disabled> Finish watching <a href="https://frontendmasters.com/courses/javascript-coercion/">Coercion in JavaScript</a> by Kyle Simpson</li>
<li class="task-list-item"><input type="checkbox" checked disabled> Continue watching <a href="https://frontendmasters.com/courses/js-fundamentals-functional-v2/">JavaScript: From Fundamentals to Functional JS, v2</a> by Bianca Gandolfo</li>
</ul>
<h2>Learned today</h2>
<h3>Implicit coercion</h3>
<p>Happens as a side effect of some other operation.</p>
<h4>string &#x3C;--> number</h4>
<p><code>-</code>, <code>*</code> or <code>/</code> operators are only defined for numbers, therefor even if both values are strings they are both implicitly coerced into numbers:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> foo = <span class="hljs-string">'123'</span>;
<span class="hljs-keyword">let</span> baz = foo - <span class="hljs-number">0</span>; <span class="hljs-comment">// 123</span>
baz = foo - <span class="hljs-string">'0'</span>; <span class="hljs-comment">// 123</span>
baz = foo / <span class="hljs-number">1</span>; <span class="hljs-comment">// 123</span></code></pre>
<p><code>+</code> can be used in two ways: if both values are numbers, it works as a addition operator. If at least one value is a string, it will coerce non-strings into strings and perform a concatenation:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> foo = <span class="hljs-string">'456'</span>;
<span class="hljs-keyword">let</span> baz = foo + <span class="hljs-string">''</span>; <span class="hljs-comment">// '456'</span>
baz = foo - <span class="hljs-string">''</span>; <span class="hljs-comment">// 456 &#x3C;--- ???</span></code></pre>
<h4>X &#x3C;--> boolean</h4>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> foo = <span class="hljs-string">'123'</span>;
<span class="hljs-keyword">if</span> (foo) {
  <span class="hljs-comment">/* enters here */</span>
}

foo = <span class="hljs-number">0</span>;
<span class="hljs-keyword">if</span> (foo) {
  <span class="hljs-comment">/* does not enter here */</span>
}
<span class="hljs-keyword">let</span> baz = foo || <span class="hljs-string">'foo'</span>; <span class="hljs-comment">// 'foo'</span></code></pre>
<p>You should <strong>never</strong> use double equals to compare to a <code>true</code> / <code>false</code> value:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> foo = <span class="hljs-number">0</span>;
<span class="hljs-comment">/* This does NOT coerce foo to Boolean
 * but 'false' into 0! */</span>
<span class="hljs-keyword">if</span> (foo == <span class="hljs-literal">false</span>) {
  <span class="hljs-comment">/* enters here */</span>
}</code></pre>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> foo = <span class="hljs-string">'123'</span>;
<span class="hljs-keyword">if</span> (foo == <span class="hljs-literal">true</span>) {
  <span class="hljs-comment">/* does not enter here */</span>
}</code></pre>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> foo = [];
<span class="hljs-keyword">if</span> (foo) {
  <span class="hljs-comment">/* enters here */</span>
}
<span class="hljs-keyword">if</span> (foo == <span class="hljs-literal">false</span>) {
  <span class="hljs-comment">/* enters here */</span>
} <span class="hljs-comment">// &#x3C;-- ?????</span></code></pre>
<h3>Double vs. triple equals</h3>
<h4>NOT TRUE</h4>
<blockquote>
<p><code>==</code> checks for value
<code>===</code> checks for value and type</p>
</blockquote>
<h4>TRUE</h4>
<blockquote>
<p><code>==</code> allows coercion
<code>===</code> does NOT allow coercion</p>
</blockquote>
<p><code>==</code> and <code>===</code> have exactly the same algorithm if the types match and <code>==</code> does indeed check types.</p>
<h3>Destructuring</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> a = [
  { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> },
  { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> },
];</code></pre>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> [{ <span class="hljs-attr">x</span>: firstVariable }, { <span class="hljs-attr">x</span>: secondVariable }] = a;</code></pre>
<h3><code>_.each</code> / <code>forEach</code> loops</h3>
<p><code>_</code> comes from <a href="https://underscorejs.org/">underscore library</a></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> a = [<span class="hljs-string">'x'</span>, <span class="hljs-string">'y'</span>, <span class="hljs-string">'z'</span>];

_.each(a, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, idx</span>) </span>{
  <span class="hljs-built_in">console</span>.log(value, idx);
});

a.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, idx</span>) </span>{
  <span class="hljs-built_in">console</span>.log(value, idx);
});</code></pre>
<h2>Resources list</h2>
<ul>
<li><a href="https://jscoercion.qfox.nl">jscoercion.qfox.nl</a></li>
</ul>
<h2>Other resources</h2>
</section></main></section></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"codelog":{"tags":["javascript","coercion","destructuring","es6","functional programming"],"title":"2019-05-28","content":"\u003ch2\u003ePlan for the day\u003c/h2\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" checked disabled\u003e Finish watching \u003ca href=\"https://frontendmasters.com/courses/javascript-coercion/\"\u003eCoercion in JavaScript\u003c/a\u003e by Kyle Simpson\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" checked disabled\u003e Continue watching \u003ca href=\"https://frontendmasters.com/courses/js-fundamentals-functional-v2/\"\u003eJavaScript: From Fundamentals to Functional JS, v2\u003c/a\u003e by Bianca Gandolfo\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eLearned today\u003c/h2\u003e\n\u003ch3\u003eImplicit coercion\u003c/h3\u003e\n\u003cp\u003eHappens as a side effect of some other operation.\u003c/p\u003e\n\u003ch4\u003estring \u0026#x3C;--\u003e number\u003c/h4\u003e\n\u003cp\u003e\u003ccode\u003e-\u003c/code\u003e, \u003ccode\u003e*\u003c/code\u003e or \u003ccode\u003e/\u003c/code\u003e operators are only defined for numbers, therefor even if both values are strings they are both implicitly coerced into numbers:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e foo = \u003cspan class=\"hljs-string\"\u003e'123'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e baz = foo - \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 123\u003c/span\u003e\nbaz = foo - \u003cspan class=\"hljs-string\"\u003e'0'\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 123\u003c/span\u003e\nbaz = foo / \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 123\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e+\u003c/code\u003e can be used in two ways: if both values are numbers, it works as a addition operator. If at least one value is a string, it will coerce non-strings into strings and perform a concatenation:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e foo = \u003cspan class=\"hljs-string\"\u003e'456'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e baz = foo + \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// '456'\u003c/span\u003e\nbaz = foo - \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 456 \u0026#x3C;--- ???\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003eX \u0026#x3C;--\u003e boolean\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e foo = \u003cspan class=\"hljs-string\"\u003e'123'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (foo) {\n  \u003cspan class=\"hljs-comment\"\u003e/* enters here */\u003c/span\u003e\n}\n\nfoo = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (foo) {\n  \u003cspan class=\"hljs-comment\"\u003e/* does not enter here */\u003c/span\u003e\n}\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e baz = foo || \u003cspan class=\"hljs-string\"\u003e'foo'\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 'foo'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou should \u003cstrong\u003enever\u003c/strong\u003e use double equals to compare to a \u003ccode\u003etrue\u003c/code\u003e / \u003ccode\u003efalse\u003c/code\u003e value:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e foo = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n\u003cspan class=\"hljs-comment\"\u003e/* This does NOT coerce foo to Boolean\n * but 'false' into 0! */\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (foo == \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e/* enters here */\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e foo = \u003cspan class=\"hljs-string\"\u003e'123'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (foo == \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e/* does not enter here */\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e foo = [];\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (foo) {\n  \u003cspan class=\"hljs-comment\"\u003e/* enters here */\u003c/span\u003e\n}\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (foo == \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e/* enters here */\u003c/span\u003e\n} \u003cspan class=\"hljs-comment\"\u003e// \u0026#x3C;-- ?????\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eDouble vs. triple equals\u003c/h3\u003e\n\u003ch4\u003eNOT TRUE\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003e==\u003c/code\u003e checks for value\n\u003ccode\u003e===\u003c/code\u003e checks for value and type\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4\u003eTRUE\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003e==\u003c/code\u003e allows coercion\n\u003ccode\u003e===\u003c/code\u003e does NOT allow coercion\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ccode\u003e==\u003c/code\u003e and \u003ccode\u003e===\u003c/code\u003e have exactly the same algorithm if the types match and \u003ccode\u003e==\u003c/code\u003e does indeed check types.\u003c/p\u003e\n\u003ch3\u003eDestructuring\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e a = [\n  { \u003cspan class=\"hljs-attr\"\u003ex\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ey\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e },\n  { \u003cspan class=\"hljs-attr\"\u003ex\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ey\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e },\n];\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [{ \u003cspan class=\"hljs-attr\"\u003ex\u003c/span\u003e: firstVariable }, { \u003cspan class=\"hljs-attr\"\u003ex\u003c/span\u003e: secondVariable }] = a;\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e\u003ccode\u003e_.each\u003c/code\u003e / \u003ccode\u003eforEach\u003c/code\u003e loops\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003e_\u003c/code\u003e comes from \u003ca href=\"https://underscorejs.org/\"\u003eunderscore library\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e a = [\u003cspan class=\"hljs-string\"\u003e'x'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'y'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'z'\u003c/span\u003e];\n\n_.each(a, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003evalue, idx\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(value, idx);\n});\n\na.forEach(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003evalue, idx\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(value, idx);\n});\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eResources list\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://jscoercion.qfox.nl\"\u003ejscoercion.qfox.nl\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eOther resources\u003c/h2\u003e\n"}},"__N_SSG":true},"page":"/codelogs/[slug]","query":{"slug":"2019-05-28"},"buildId":"s7iXAZyb5Ha2u2j1r_k5s","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-2f74f7d9820760171318.js"></script><script async="" data-next-page="/_app" src="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/pages/_app.js"></script><script async="" data-next-page="/codelogs/[slug]" src="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/pages/codelogs/%5Bslug%5D.js"></script><script src="/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/_next/static/chunks/framework.e84fa698c7ee940652bd.js" async=""></script><script src="/_next/static/chunks/commons.34684228d50c6c140f9e.js" async=""></script><script src="/_next/static/runtime/main-d8f6cc11b1d0cf8a72db.js" async=""></script><script src="/_next/static/chunks/027ef1e68a8faeecdab18641e53b6a91610e6293.0edb937e2e191f7bf5bd.js" async=""></script><script src="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/_buildManifest.js" async=""></script><script src="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/_ssgManifest.js" async=""></script></body></html>