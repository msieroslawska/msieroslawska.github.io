<!DOCTYPE html><html lang="en"><head><link href="https://fonts.googleapis.com/css?family=DM+Sans:400,400i,700&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Space+Mono:400,400i,700&amp;display=swap" rel="stylesheet"/><title>2019-06-13</title><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/0fcb03e38cacf77fc9b1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0fcb03e38cacf77fc9b1.css"/><link rel="preload" href="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/pages/codelogs/%5Bslug%5D.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.e84fa698c7ee940652bd.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.34684228d50c6c140f9e.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-d8f6cc11b1d0cf8a72db.js" as="script"/><link rel="preload" href="/_next/static/chunks/027ef1e68a8faeecdab18641e53b6a91610e6293.0edb937e2e191f7bf5bd.js" as="script"/></head><body><div id="__next"><div><section class="page-wrapper"><section class="sidebar"><nav class="nav"><div class="nav-link "><a>Home</a></div><div class="nav-link "><a>About</a></div><div class="nav-link "><a>Blog</a></div><div class="nav-link "><a>Codelogs</a></div><div class="nav-link "><a>Articles</a></div><div class="nav-link "><a>Projects</a></div><div class="nav-link "><a>TODO</a></div></nav><footer class="footer"><p>Powered by <a href="https://nextjs.org/">next.js</a> and <a href="https://pages.github.com/">Github Pages</a></p></footer></section><main class="page-section"><h1 class="page-header">2019-06-13</h1><p>Tags: javascript,oop</p><section><h2>Plan for the day</h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked disabled> Continue watching <a href="https://frontendmasters.com/courses/javascript-hard-parts/">JavaScript: The Hard Parts</a> by Will Sentance</li>
</ul>
<h2>Learned today</h2>
<h3>OOP</h3>
<p>Is a popular paradigm to structure the code, which:</p>
<ul>
<li>makes it easy to add new features and functonalities (we don't have to rewrite stuff to add new features),</li>
<li>is efficient in terms of memory,</li>
<li>as a clear structure (easy for the author and othe developers).</li>
</ul>
<p>If we are operating on some data and there are functionalities we'd like to apply to it, a nice and logical solution would be to store data and methods together in an object (<strong>encapsulate</strong>):</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> user1 = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Will'</span>,
  <span class="hljs-attr">score</span>: <span class="hljs-number">6</span>,
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =></span> {
    user1.score++;
  },
};</code></pre>
<p>There are other ways to declare objects:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> user2 = {};
user2.name = <span class="hljs-string">'Jim'</span>;
user2.score = <span class="hljs-number">10</span>;
user2.increment = <span class="hljs-function">() =></span> {
  user2.score++;
};</code></pre>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> user3 = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
user3.name = <span class="hljs-string">'Jess'</span>;
user3.score = <span class="hljs-number">2</span>;
user3.increment = <span class="hljs-function">() =></span> {
  user3.score++;
};</code></pre>
<h4>How do we avoid repeating ourselves?</h4>
<ol>
<li>Wrap in a function</li>
</ol>
<pre><code class="hljs language-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">userCreator</span>(<span class="hljs-params">name, score</span>) </span>{
  <span class="hljs-keyword">let</span> user = {};
  user.name = name;
  user.score = score;
  user.increment = <span class="hljs-function">() =></span> {
    user.score++;
  };
  <span class="hljs-keyword">return</span> user;
}

<span class="hljs-keyword">let</span> user1 = userCreator(<span class="hljs-string">'Will'</span>, <span class="hljs-number">6</span>);
<span class="hljs-keyword">let</span> user2 = userCreator(<span class="hljs-string">'Jess'</span>, <span class="hljs-number">2</span>);
user1.increment();</code></pre>
<p>This approach has a fundamental flaw: what if we create 1000 users, and <code>userCreator</code> has 100 of different functions? Each of 1000 users would be a brand new object with new, separate function definitions. Do we need to allocate all that memory?</p>
<ol start="2">
<li>Use the prototypal nature of JS: when a method is not found in the object, JS looks for it in next object in the prototype chain. In this solution we are storing the common items (functions) in a separate store which we use to populate <code>userCreator</code>:</li>
</ol>
<pre><code class="hljs language-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">userCreator</span>(<span class="hljs-params">name, score</span>) </span>{
  <span class="hljs-keyword">let</span> user = <span class="hljs-built_in">Object</span>.create(userFunctionStore);
  user.name = name;
  user.score = score;
  <span class="hljs-keyword">return</span> user;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">userFunctionStore</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =></span> { <span class="hljs-built_in">this</span>.score++; },
  <span class="hljs-attr">login</span>: <span class="hljs-function">() =></span> { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'You\'re logged in!'</span>); },
}

<span class="hljs-keyword">let</span> user1 = userCreator(<span class="hljs-string">'Will'</span>, <span class="hljs-number">6</span>);
user1.increment();</code></pre>
<p><code>Object.create()</code> always returns an empty object. What is being passed as an argument is being stored as a reference in <code>user</code>'s <code>__proto__</code> property (creating a <strong>prototype chain bond</strong> ). What is being stored in <code>user1</code> (what is returned from <code>userCreator()</code>) does <strong>not</strong> have <code>increment()</code> and <code>login()</code>.</p>
<h2>Resources list</h2>
<h2>Other resources</h2>
</section></main></section></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"codelog":{"tags":["javascript","oop"],"title":"2019-06-13","content":"\u003ch2\u003ePlan for the day\u003c/h2\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" checked disabled\u003e Continue watching \u003ca href=\"https://frontendmasters.com/courses/javascript-hard-parts/\"\u003eJavaScript: The Hard Parts\u003c/a\u003e by Will Sentance\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eLearned today\u003c/h2\u003e\n\u003ch3\u003eOOP\u003c/h3\u003e\n\u003cp\u003eIs a popular paradigm to structure the code, which:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003emakes it easy to add new features and functonalities (we don't have to rewrite stuff to add new features),\u003c/li\u003e\n\u003cli\u003eis efficient in terms of memory,\u003c/li\u003e\n\u003cli\u003eas a clear structure (easy for the author and othe developers).\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIf we are operating on some data and there are functionalities we'd like to apply to it, a nice and logical solution would be to store data and methods together in an object (\u003cstrong\u003eencapsulate\u003c/strong\u003e):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e user1 = {\n  \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Will'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003escore\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eincrement\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    user1.score++;\n  },\n};\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThere are other ways to declare objects:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e user2 = {};\nuser2.name = \u003cspan class=\"hljs-string\"\u003e'Jim'\u003c/span\u003e;\nuser2.score = \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e;\nuser2.increment = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n  user2.score++;\n};\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e user3 = \u003cspan class=\"hljs-built_in\"\u003eObject\u003c/span\u003e.create(\u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e);\nuser3.name = \u003cspan class=\"hljs-string\"\u003e'Jess'\u003c/span\u003e;\nuser3.score = \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e;\nuser3.increment = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n  user3.score++;\n};\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003eHow do we avoid repeating ourselves?\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003eWrap in a function\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003euserCreator\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ename, score\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e user = {};\n  user.name = name;\n  user.score = score;\n  user.increment = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    user.score++;\n  };\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e user;\n}\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e user1 = userCreator(\u003cspan class=\"hljs-string\"\u003e'Will'\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e user2 = userCreator(\u003cspan class=\"hljs-string\"\u003e'Jess'\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e);\nuser1.increment();\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis approach has a fundamental flaw: what if we create 1000 users, and \u003ccode\u003euserCreator\u003c/code\u003e has 100 of different functions? Each of 1000 users would be a brand new object with new, separate function definitions. Do we need to allocate all that memory?\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eUse the prototypal nature of JS: when a method is not found in the object, JS looks for it in next object in the prototype chain. In this solution we are storing the common items (functions) in a separate store which we use to populate \u003ccode\u003euserCreator\u003c/code\u003e:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003euserCreator\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ename, score\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e user = \u003cspan class=\"hljs-built_in\"\u003eObject\u003c/span\u003e.create(userFunctionStore);\n  user.name = name;\n  user.score = score;\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e user;\n}\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003euserFunctionStore\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-attr\"\u003eincrement\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e { \u003cspan class=\"hljs-built_in\"\u003ethis\u003c/span\u003e.score++; },\n  \u003cspan class=\"hljs-attr\"\u003elogin\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e { \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(\u003cspan class=\"hljs-string\"\u003e'You\\'re logged in!'\u003c/span\u003e); },\n}\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e user1 = userCreator(\u003cspan class=\"hljs-string\"\u003e'Will'\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e);\nuser1.increment();\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eObject.create()\u003c/code\u003e always returns an empty object. What is being passed as an argument is being stored as a reference in \u003ccode\u003euser\u003c/code\u003e's \u003ccode\u003e__proto__\u003c/code\u003e property (creating a \u003cstrong\u003eprototype chain bond\u003c/strong\u003e ). What is being stored in \u003ccode\u003euser1\u003c/code\u003e (what is returned from \u003ccode\u003euserCreator()\u003c/code\u003e) does \u003cstrong\u003enot\u003c/strong\u003e have \u003ccode\u003eincrement()\u003c/code\u003e and \u003ccode\u003elogin()\u003c/code\u003e.\u003c/p\u003e\n\u003ch2\u003eResources list\u003c/h2\u003e\n\u003ch2\u003eOther resources\u003c/h2\u003e\n"}},"__N_SSG":true},"page":"/codelogs/[slug]","query":{"slug":"2019-06-13"},"buildId":"s7iXAZyb5Ha2u2j1r_k5s","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-2f74f7d9820760171318.js"></script><script async="" data-next-page="/_app" src="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/pages/_app.js"></script><script async="" data-next-page="/codelogs/[slug]" src="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/pages/codelogs/%5Bslug%5D.js"></script><script src="/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/_next/static/chunks/framework.e84fa698c7ee940652bd.js" async=""></script><script src="/_next/static/chunks/commons.34684228d50c6c140f9e.js" async=""></script><script src="/_next/static/runtime/main-d8f6cc11b1d0cf8a72db.js" async=""></script><script src="/_next/static/chunks/027ef1e68a8faeecdab18641e53b6a91610e6293.0edb937e2e191f7bf5bd.js" async=""></script><script src="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/_buildManifest.js" async=""></script><script src="/_next/static/s7iXAZyb5Ha2u2j1r_k5s/_ssgManifest.js" async=""></script></body></html>