<!DOCTYPE html><html lang="en"><head><link href="https://fonts.googleapis.com/css?family=DM+Sans:400,400i,700&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Space+Mono:400,400i,700&amp;display=swap" rel="stylesheet"/><title>2019-04-21</title><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/66484a3715798008541c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/66484a3715798008541c.css"/><link rel="preload" href="/_next/static/LBpfXZdWlV2p0St5YANM-/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/LBpfXZdWlV2p0St5YANM-/pages/codelogs/%5Bslug%5D.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.e84fa698c7ee940652bd.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.34684228d50c6c140f9e.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-57442645da4275d2ff59.js" as="script"/><link rel="preload" href="/_next/static/chunks/49f65eee51eac7caa83c1e2f549522aa9179da53.9d410b191eaed73e5094.js" as="script"/></head><body><div id="__next"><div><section class="page-wrapper"><section class="sidebar"><nav class="nav"><div class="nav-link "><a>Home</a></div><div class="nav-link "><a>About</a></div><div class="nav-link "><a>Codelogs</a></div><div class="nav-link "><a>Articles</a></div><div class="nav-link "><a>Projects</a></div><div class="nav-link "><a>TODO</a></div></nav><footer class="footer"><p>Powered by <a href="https://nextjs.org/">next.js</a> and <a href="https://pages.github.com/">Github Pages</a></p></footer></section><main class="page-section"><h1 class="page-header">2019-04-21</h1><p>Tags: dom,events,html,git</p><section><h2>Plan for the day</h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked disabled> Continue watching <a href="https://frontendmasters.com/courses/web-development-v2/">Complete Intro to Web Development, v2</a>.</li>
</ul>
<h2>Learned today</h2>
<ul>
<li>
<p>The part of Brian's course I watched today was covering DOM and event listeners. He mentioned an interesting pattern for displaying an input character from a keystroke:</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Type here!"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input-to-copy"</span>></span>
<span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-to-copy-to"</span>></span>Nothing has happened yet.<span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span>

<span class="hljs-tag">&#x3C;<span class="hljs-name">script</span>></span><span class="javascript">
  <span class="hljs-keyword">const</span> input = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.input-to-copy'</span>);
  <span class="hljs-keyword">const</span> paragraph = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.p-to-copy-to'</span>);

  input.addEventListener(<span class="hljs-string">'keyup'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      paragraph.innerText = input.value;
  });
</span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span></code></pre>
<p>Notice that the listener is attached to the <code>keyup</code> event. If we used <code>keydown</code> instead, <code>paragraph.innerText</code> would be overwritten by a previous keystroke character, not the current one (e.g. typing <em>abc</em> would show <em>ab</em> in <code>paragraph</code>).</p>
</li>
<li>
<p>All events are <em>bubbling</em> (by default, this can be disabled), meaning they fire up and then get trasfered to the parent element, then to grandparent, etc. until they reach the root element. It can come very handy when we'd want to attach a same-event listener to multiple elements, like so:</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button-container"</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span>></span>1<span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span>></span>2<span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span>></span>3<span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>

<span class="hljs-tag">&#x3C;<span class="hljs-name">script</span>></span><span class="javascript">
  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.button-container'</span>)
    .addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{
      alert(<span class="hljs-string">`You clicked on button <span class="hljs-subst">${event.target.innerText}</span>`</span>);
    });
</span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span></code></pre>
<p>In the example above we need only one <code>click</code> listener, as clicking on each button will bubble the event to its parent, where the listener is attached.</p>
<p>It is important to add that clicking on <em>any</em> element in the parent element will trigger the event (e.g. an empty area next to the buttons). To prevent that, we can add an additional check for the target type:</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">script</span>></span><span class="javascript">
  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.button-container'</span>)
    .addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{
      <span class="hljs-keyword">if</span> (event.target.tagType === <span class="hljs-string">'BUTTON'</span>) {
        alert(<span class="hljs-string">`You clicked on button <span class="hljs-subst">${event.target.innerText}</span>`</span>);
      }
    });
</span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span></code></pre>
</li>
<li>
<p><code>event.stopPropagation()</code> stops the propagation of events at the moment of being called and after (events from before will successfully bubble).</p>
</li>
<li>
<p>I moved to another computer where I had an outdated local copy of my repo. I wanted to update files with the current state and history of the remote, so I used <code>git pull origin master</code>. What I ended up with was:</p>
<ul>
<li>Commit merging the <code>master</code> branch</li>
<li>The most recent remote commit</li>
<li>2nd most recent remote commit</li>
<li>...</li>
<li>1st remote commit</li>
<li>The most recent local commit</li>
<li>...</li>
<li>1st local commit</li>
</ul>
<p>Ooops... that is not what I wanted. Having the whole local history gave me all the outdated files from times I was experimenting with Jekyll layouts. Luckily, stackoverflow comes to the rescue as usual. What I need was:</p>
<pre><code class="hljs language-bash">git fetch --all
git reset --hard origin/master</code></pre>
<p>The main question now is <strong>why</strong>? I'm adding that to my TODO!</p>
</li>
<li>
<p>With my merge I somehow lost my custom CSS for <code>about</code> page images and I had to add it again. Just for the future reference (in case I mess up again), this is how you address specific images based on their source:</p>
<pre><code class="hljs language-css"><span class="hljs-selector-tag">img</span><span class="hljs-selector-attr">[src*=<span class="hljs-string">"#about-picture"</span>]</span> {}</code></pre>
</li>
</ul>
<h2>Resources list</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/1125968/how-do-i-force-git-pull-to-overwrite-local-files">How to force <code>git pull</code> to overwrite local files</a></li>
</ul>
<h2>Other resources</h2>
</section></main></section></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"codelog":{"tags":["dom","events","html","git"],"title":"2019-04-21","content":"\u003ch2\u003ePlan for the day\u003c/h2\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" checked disabled\u003e Continue watching \u003ca href=\"https://frontendmasters.com/courses/web-development-v2/\"\u003eComplete Intro to Web Development, v2\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eLearned today\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThe part of Brian's course I watched today was covering DOM and event listeners. He mentioned an interesting pattern for displaying an input character from a keystroke:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"Type here!\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"input-to-copy\"\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"p-to-copy-to\"\u003c/span\u003e\u003e\u003c/span\u003eNothing has happened yet.\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e input = \u003cspan class=\"hljs-built_in\"\u003edocument\u003c/span\u003e.querySelector(\u003cspan class=\"hljs-string\"\u003e'.input-to-copy'\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e paragraph = \u003cspan class=\"hljs-built_in\"\u003edocument\u003c/span\u003e.querySelector(\u003cspan class=\"hljs-string\"\u003e'.p-to-copy-to'\u003c/span\u003e);\n\n  input.addEventListener(\u003cspan class=\"hljs-string\"\u003e'keyup'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n      paragraph.innerText = input.value;\n  });\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNotice that the listener is attached to the \u003ccode\u003ekeyup\u003c/code\u003e event. If we used \u003ccode\u003ekeydown\u003c/code\u003e instead, \u003ccode\u003eparagraph.innerText\u003c/code\u003e would be overwritten by a previous keystroke character, not the current one (e.g. typing \u003cem\u003eabc\u003c/em\u003e would show \u003cem\u003eab\u003c/em\u003e in \u003ccode\u003eparagraph\u003c/code\u003e).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAll events are \u003cem\u003ebubbling\u003c/em\u003e (by default, this can be disabled), meaning they fire up and then get trasfered to the parent element, then to grandparent, etc. until they reach the root element. It can come very handy when we'd want to attach a same-event listener to multiple elements, like so:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"button-container\"\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e1\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e2\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e3\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-built_in\"\u003edocument\u003c/span\u003e.querySelector(\u003cspan class=\"hljs-string\"\u003e'.button-container'\u003c/span\u003e)\n    .addEventListener(\u003cspan class=\"hljs-string\"\u003e'click'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e) \u003c/span\u003e{\n      alert(\u003cspan class=\"hljs-string\"\u003e`You clicked on button \u003cspan class=\"hljs-subst\"\u003e${event.target.innerText}\u003c/span\u003e`\u003c/span\u003e);\n    });\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn the example above we need only one \u003ccode\u003eclick\u003c/code\u003e listener, as clicking on each button will bubble the event to its parent, where the listener is attached.\u003c/p\u003e\n\u003cp\u003eIt is important to add that clicking on \u003cem\u003eany\u003c/em\u003e element in the parent element will trigger the event (e.g. an empty area next to the buttons). To prevent that, we can add an additional check for the target type:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-built_in\"\u003edocument\u003c/span\u003e.querySelector(\u003cspan class=\"hljs-string\"\u003e'.button-container'\u003c/span\u003e)\n    .addEventListener(\u003cspan class=\"hljs-string\"\u003e'click'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e) \u003c/span\u003e{\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (event.target.tagType === \u003cspan class=\"hljs-string\"\u003e'BUTTON'\u003c/span\u003e) {\n        alert(\u003cspan class=\"hljs-string\"\u003e`You clicked on button \u003cspan class=\"hljs-subst\"\u003e${event.target.innerText}\u003c/span\u003e`\u003c/span\u003e);\n      }\n    });\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eevent.stopPropagation()\u003c/code\u003e stops the propagation of events at the moment of being called and after (events from before will successfully bubble).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eI moved to another computer where I had an outdated local copy of my repo. I wanted to update files with the current state and history of the remote, so I used \u003ccode\u003egit pull origin master\u003c/code\u003e. What I ended up with was:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCommit merging the \u003ccode\u003emaster\u003c/code\u003e branch\u003c/li\u003e\n\u003cli\u003eThe most recent remote commit\u003c/li\u003e\n\u003cli\u003e2nd most recent remote commit\u003c/li\u003e\n\u003cli\u003e...\u003c/li\u003e\n\u003cli\u003e1st remote commit\u003c/li\u003e\n\u003cli\u003eThe most recent local commit\u003c/li\u003e\n\u003cli\u003e...\u003c/li\u003e\n\u003cli\u003e1st local commit\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eOoops... that is not what I wanted. Having the whole local history gave me all the outdated files from times I was experimenting with Jekyll layouts. Luckily, stackoverflow comes to the rescue as usual. What I need was:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003egit fetch --all\ngit reset --hard origin/master\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe main question now is \u003cstrong\u003ewhy\u003c/strong\u003e? I'm adding that to my TODO!\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWith my merge I somehow lost my custom CSS for \u003ccode\u003eabout\u003c/code\u003e page images and I had to add it again. Just for the future reference (in case I mess up again), this is how you address specific images based on their source:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-tag\"\u003eimg\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[src*=\u003cspan class=\"hljs-string\"\u003e\"#about-picture\"\u003c/span\u003e]\u003c/span\u003e {}\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eResources list\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://stackoverflow.com/questions/1125968/how-do-i-force-git-pull-to-overwrite-local-files\"\u003eHow to force \u003ccode\u003egit pull\u003c/code\u003e to overwrite local files\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eOther resources\u003c/h2\u003e\n"}},"__N_SSG":true},"page":"/codelogs/[slug]","query":{"slug":"2019-04-21"},"buildId":"LBpfXZdWlV2p0St5YANM-","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-2efeafdb249345ade087.js"></script><script async="" data-next-page="/_app" src="/_next/static/LBpfXZdWlV2p0St5YANM-/pages/_app.js"></script><script async="" data-next-page="/codelogs/[slug]" src="/_next/static/LBpfXZdWlV2p0St5YANM-/pages/codelogs/%5Bslug%5D.js"></script><script src="/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/_next/static/chunks/framework.e84fa698c7ee940652bd.js" async=""></script><script src="/_next/static/chunks/commons.34684228d50c6c140f9e.js" async=""></script><script src="/_next/static/runtime/main-57442645da4275d2ff59.js" async=""></script><script src="/_next/static/chunks/49f65eee51eac7caa83c1e2f549522aa9179da53.9d410b191eaed73e5094.js" async=""></script><script src="/_next/static/LBpfXZdWlV2p0St5YANM-/_buildManifest.js" async=""></script><script src="/_next/static/LBpfXZdWlV2p0St5YANM-/_ssgManifest.js" async=""></script></body></html>